         MACRO ,
         IDAAMDSB
*---------------------------------------------------------------------*
* THE AMDSB CONTAINS STATISTICAL INFORMATION ABOUT RECORD PROCESSING  *
* IN THE DATASET.  IT ALSO CONTAINS SOME OF THE DATASET'S ATTRIBUTES  *
* AND SPECIFICATIONS.  THE AMDSB IS BUILT USING THE DATASET OR INDEX  *
* CATALOG RECORD'S AMDSB SET OF FIELDS, WHEN THE CLUSTER IS OPENED.   *
* A COPY OF THE AMDSB IS CONTAINED IN THE DATASET'S DATA CATALOG      *
* RECORD AND, IF THE DATASET IS KEY-SEQUENCED, IN THE INDEX CATALOG   *
* RECORD.  THE DATA OR INDEX AMB (AMBDSB) POINTS TO ITS ASSOCIATED    *
* AMDSB.                                                              *
*---------------------------------------------------------------------*
IDAAMDSB DSECT ,
AMDSB    EQU   *
AMDSBID  DS    X            AMDSB IDENTIFIER, X'60'.
AMDATTR  DS    X            ATTRIBUTES OF THE DATASET:
AMDDST   EQU   B'10000000'  KEY SEQUENCED DATASET.
AMDWCK   EQU   B'01000000'  CHECK EACH RECORD WHEN IT IS WRITTEN.
AMDSDT   EQU   B'00100000'  SEQUENCE SET IS STORED WITH THE DATA AND IS
*                           REPLICATED - DUPLICATED AS MANY TIMES AS
*                           POSSIBLE AROUND THE TRACK.
AMDREPL  EQU   B'00010000'  ALL INDEX RECORDS ARE REPLICATED -
*                           DUPLICATED AS MANY TIMES AS POSSIBLE AROUND
*                           THE TRACK.
AMDORDER EQU   B'00001000'  USE THE VOLUMES IN THE SAME ORDER AS IN THE
*                           VOLUME LIST.
AMDRANGE EQU   B'00000100'  THE DATASET IS DIVIDED INTO KEY RANGES.
AMDRRDS  EQU   B'00000010'  RELATIVE RECORD DATASET.
AMDSPAN  EQU   B'00000001'  DATASET CONTAINS SPANNED RECORDS.
AMDLEN   DS    H            LENGTH OF AMDSB.
AMDNEST  DS    0H           NO OF ENTRIES IN THE INDEX SECTION.
AMDAKRKP DS    H            RELATIVE KEY POSITION OF THE ALTERNATE KEY.
AMDRKP   DS    H            RELATIVE KEY POSITION.
AMDKEYLN DS    H            KEY LENGTH.
AMDPCTCA DS    X            PERCENT OF FREE CONTROL INTERVALS IN THE
*                           CONTROL AREA.
AMDPCTCI DS    X            PERCENT OF FREE BYTES IN THE CONTROL
*                           INTERVAL.
AMDCIPCA DS    H            NUMBER OF CONTROL INTERVALS IN A CONTROL
*                           AREA.
AMDFSCA  DS    H            NUMBER OF FREE CONTROL INTERVALS IN A
*                           CONTROL AREA.
AMDFSCI  DS    XL4          NUMBER OF FREE BYTES PER CONTROL INTERVAL.
AMDCINV  DS    F            CONTROL INTERVAL SIZE.
AMDLRECL DS    F            MAXIMUM RECORD SIZE.
AMDHLRBA DS    0F           RELATIVE BYTE ADDRESS (RBA) OF THE HIGH-
*                           LEVEL INDEX RECORD (KSDS).
AMDNSLOT DS    F            NUMBER OF RECORD SLOTS PER CONTROL INTERVAL
*                           (RRDS).
AMDSSRBA DS    0F           RELATIVE BYTE ADDRESS (RBA) OF THE FIRST
*                           SEQUENCE-SET RECORD (KSDS).
AMDMAXRR DS    F            MAXIMUM VALID RELATIVE RECORD NUMBER(RRDS).
AMDPARDB DS    F            ADDRESS OF THE TO FIRST ARDB
AMDATTR3 DS    X            ATTRIBUTES:
AMDUNQ   EQU   B'10000000'  THE DATASET HAS NONUNIQUE KEYS.
AMDFAULT EQU   B'01000000'  THE DATASET IS STAGED BY CYLINDER FAULT.
AMDBIND  EQU   B'00100000'  THE DATASET IS STAGED AND BOUND.
AMDWAIT  EQU   B'00010000'  THE DATASET DESTAGING IS COMPLETED BEFORE
*                           CONTROL IS RETURNED TO THE PROGRAM THAT
*                           CLOSES THE DATASET.
AMDLM    EQU   B'00001000'  THE DATASET IS LOADED.
AMDLDS   EQU   B'00000100'  LINEAR DATASET
*        EQU   B'00000011'  RESERVED
AMDSTRNO DS    X            NUMBER OF CONCURRENT REQUESTS.
AMDDUI   DS    CL4          RESERVEIMS DBRC USAGE INDICATOR
AMDBFNO  DS    XL2          NUMBER OF DATA OR INDEX BUFFERS.
AMDSTAT  DS    0XL48        DATASET STATISTICS:
AMDSTSP  DS    XL8          OS/VS SYSTEM TIME STAMP.
AMDNIL   DS    H            NUMBER OF INDEX LEVELS
AMDNEXT  DS    H            NUMBER OF EXTENTS IN THE DATASET.
AMDNLR   DS    F            NUMBER OF USER-SUPPLIED RECORDS IN THE
*                           DATASET.
AMDDELR  DS    F            NUMBER OF DELETED RECORDS.
AMDIREC  DS    F            NUMBER OF INSERTED RECORDS.
AMDUPR   DS    F            NUMBER OF UPDATED RECORDS.
AMDRETR  DS    F            NUMBER OF RETRIEVED RECORDS.
AMDASPA  DS    F            NUMBER OF BYTES OF FREE SPACE IN THE
*                           DATASET.
AMDNCIS  DS    F            NUMBER OF TIMES A CONTROL INTERVAL WAS
*                           SPLIT.
AMDNCAS  DS    F            NUMBER OF TIMES A CONTROL AREA WAS SPLIT.
AMDEXCP  DS    F            NUMBER OF TIMES EXCP WAS ISSUED BY VSAM I/O
*                           ROUTINES.
AMDSBLEN EQU   *-AMDSB
         MEND  ,
